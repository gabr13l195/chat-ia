<div class="message-container" [ngClass]="{'user-message': isUser, 'bot-message': isBot}">
  <div class="message-content">
    <div class="message-header">
      <div class="avatar" [ngClass]="{'user-avatar': isUser, 'bot-avatar': isBot}">
        <span class="avatar-text">{{ isUser ? 'ğŸ‘¤' : 'ğŸ¤–' }}</span>
      </div>
      <div class="message-info">
        <span class="sender-name">{{ isUser ? 'TÃº' : 'Asistente IA' }}</span>
        <span class="timestamp">{{ formattedTime }}</span>
      </div>
    </div>
    
    <div class="message-body">
      <!-- Mensaje de imagen -->
      <ng-container *ngIf="isImage; else otherMessage">
        <div class="image-container">
          <img [src]="message.imageUrl" alt="Imagen enviada" class="message-image" />
          <div class="image-caption" *ngIf="message.content">{{ message.content }}</div>
        </div>
      </ng-container>
      
      <!-- Mensaje de audio -->
      <ng-template #otherMessage>
        <ng-container *ngIf="isAudio; else textMessage">
          <div class="audio-container">
            <audio [src]="message.audioUrl" controls class="message-audio"></audio>
            <div class="audio-caption" *ngIf="message.content">{{ message.content }}</div>
          </div>
        </ng-container>
        
        <!-- Mensaje de texto -->
        <ng-template #textMessage>
          <p class="message-text">{{ message.content }}</p>
        </ng-template>
      </ng-template>
    </div>
  </div>
</div>
